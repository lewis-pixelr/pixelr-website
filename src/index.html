<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!--   PPPPPPP   IIIIII   XX    XX  EEEEEE  LL      RRRRRR    -->
    <!--   PP    PP    II      XX  XX   EE      LL      RR   RR   -->
    <!--   PPPPPPP     II        XX     EEEE    LL      RRRRRRR   -->
    <!--   PP          II      XX  XX   EE      LL      RR  RR    -->
    <!--   PP        IIIIII   XX    XX  EEEEEE  LLLLLL  RR   RR   -->

    <meta charset=utf-8>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pixelr - Lewis Miller – Lead Product Designer for The AA</title>
    <meta name="description" content="Pixelr - Lewis Miller – Lead Product Designer for The AA">
    <meta name="keywords" content="Lewis Miller, Designer, UX Designer, Product Designer, UI Designer, Cardiff, Senior Product Designer, Lead Product Designer">
    <meta name="author" content="Lewis Miller">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/styles.min.css">
    <link rel="manifest" href="/manifest.json">
</head>

<body>
    <div class="logo" id="logo">
        <a id="logoA" aria-label="Reload"><svg id="logoAnim" viewBox="48 0 100 100" alt="Logo for Pixelr.co.uk">
                <g fill="#fff" style="">
                    <rect x="11.5" y="0" width="2.3" height="2.3"></rect>
                    <rect x="14.2" y="2.7" width="2.3" height="2.3"></rect>
                    <rect x="11.5" y="2.7" width="2.3" height="2.3"></rect>
                    <rect x="8.8" y="2.7" width="2.3" height="2.3"></rect>
                    <rect x="16.8" y="5.3" width="2.3" height="2.3"></rect>
                    <rect x="14.2" y="5.3" width="2.3" height="2.3"></rect>
                    <rect x="11.5" y="5.3" width="2.3" height="2.3"></rect>
                    <rect x="8.8" y="5.3" width="2.3" height="2.3"></rect>
                    <rect x="6.2" y="5.3" width="2.3" height="2.3"></rect>
                </g>
                <g>
                    <polyline points="3.4 11.8 7.2 19.2 7.2 44 0 40.3 0 17.3 3.4 11.8" fill="#f6a500" style=""></polyline>
                    <polyline points="12.6 11.8 7.2 19.2 7.2 44 18 44 18 19.2 12.6 11.8" fill="#ffcc00" style=""></polyline>
                    <polyline points="21.9 11.8 18 19.2 18 44 25.3 40.3 25.3 17.3 21.9 11.8" fill="#f6a500" style=""></polyline>
                </g>
                <rect x="138.3" y="33.7" width="6.1" height="6.1" fill="#ffcc00" style="" class="logopixel"></rect>
                <g>
                    <path d="M46.6,4.2c8.6,0,12.6,3.1,12.6,10.6v3.3c0,7.4-4.2,10.8-12.6,10.8H44.1V39.8H37.6V4.2h9Zm0,18.6c4.6,0,6.2-1.6,6.2-4.9V15.3c0-3.4-1.1-5.1-6.1-5.1H44.1V22.9h2.5V22.8Z" fill="#fff" style="" class="logoletter1"></path>
                    <path d="M67.5,39.9H61.2V12.5h6.3V39.9Z" fill="#fff" style="" class="logoletter2"></path>
                    <path d="M68.4,39.8L76.7,26,68.8,12.6h6.7L78,16.8a50,50,0,0,1,2.3,4.8c0.4-1,1.8-3.8,2.4-4.9l2.4-4.1h6.6L83.8,26,92,39.8H85.2l-2.4-4.1a54.38,54.38,0,0,1-2.7-5.4,56.37,56.37,0,0,1-2.8,5.5l-2.4,4H68.4Z" fill="#fff" style="" class="logoletter3"></path>
                    <path d="M112,31.5c0,5.7-3.4,8.5-10.6,8.5S90.8,36.7,90.8,29.4V23.2c0-6.8,3.4-10.6,10.6-10.6S112,15.9,112,23.2v5.4H97.2v0.7c0,4.4,1.7,5.2,4.3,5.2,3,0,4.3-1.1,4.3-3H112ZM97.2,23.3h8.6c0-3.4-.6-5.3-4.3-5.3S97.2,20,97.2,23.3Z" fill="#fff" style="" class="logoletter4"></path>
                    <path d="M114,4.2h6.3V29.8c0,3,.6,4,3.2,4v6.1c-7.4,0-9.5-2.2-9.5-10V4.2Z" fill="#fff" style="" class="logoletter5"></path>
                    <path d="M138.4,19.1c-4.1-.6-7.4,1.1-7.4,5.1V39.8h-6.3V12.5h5.8l0.3,2.9c1.1-1.9,4.2-3.6,7.6-3v6.7h0Z" fill="#fff" style="" class="logoletter6"></path>
                </g>
            </svg></a>
    </div>
    <div class="container">
        <div class="row hero">
            <h1 id="title" class="headline">
                <span class="headline__block white">Lewis Miller is a </span>
                <span class="headline__block white">Product Design Lead, </span>
                <span class="headline__block yellow">on a mission at <span class="dkyellow">The AA.</span></span>
            </h1>
        </div>
        <div class="row footer">
            <div class="footer--inner align--left">
                <p class="white"><a href="https://twitter.com/lewismiller">Twitter</a> <a href="https://dribbble.com/pixelr">Dribbble</a></p>
            </div>
            <div class="footer--inner align--right">
                <p class="white">Tap and drag...</p>
            </div>
        </div>
    </div>
    <div id="loader">
        <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle class="path" fill="none" stroke-width="4" stroke-linecap="round" cx="33" cy="33" r="24"></circle>
        </svg>
    </div>
    <style>
        @font-face {
            font-family: 'Gilroy';
            src: url('fonts/hinted-Gilroy-ExtraBold.woff2') format('woff2'),
                url('fonts/hinted-Gilroy-ExtraBold.woff') format('woff');
            font-weight: 800;
            font-style: normal;
        }

    </style>
    <!--    <script src="js/three.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/107/three.min.js"></script>
    <script src="js/GLTFLoader.min.js"></script>
    <script src="js/OrbitControls.min.js"></script>
    <script>
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        var renderer = new THREE.WebGLRenderer({
            alpha: true,
            antialias: true,
        });
        renderer.gammaOutput = true;
        renderer.gammaFactor = 2.2;
        var mouseX = 0,
            mouseY = 0;
        document.addEventListener('mousemove', onDocumentMouseMove, false);
        window.addEventListener('resize', onWindowResize, false);
        windowHalfX = window.innerWidth / 2;

        //********* LOAD MODEL ***********
        var loader = new THREE.GLTFLoader();
        var charGroup = new THREE.Group();
        var starGroup = new THREE.Group();
        charGroup.castShadow = true;
        var lensesMaterial = new THREE.MeshPhongMaterial({
            color: 0xfdfdfd,
            side: THREE.DoubleSide,
            transparent: true,
            opacity: .15,
            shininess: 60,
            refractionRatio: 0.985,
            specular: 0xffffff,
        });
        var manager = new THREE.LoadingManager();
        manager.onStart = function(url, itemsLoaded, itemsTotal) {};
        manager.onLoad = function() {};
        manager.onProgress = function(url, itemsLoaded, itemsTotal) {
            var loader = document.getElementById('loader');
            loader.style.transform = 'scale(0, 0)';
            var title = document.getElementById('title');
            title.classList.add('fade--out');
        };
        manager.onError = function(url) {
            document.getElementById('title').innerHTML = 'Oh crap. Something has gone wrong with loading the 3D model :-/';
        };

        var loader = new THREE.GLTFLoader(manager);
        loader.load(
            'model/char2.gltf',
            function(gltf) {
                scene.add(charGroup);
                charGroup.add(gltf.scene);
                gltf.scene.children[11].material = lensesMaterial;

            });

        var maxStars = 500;
        // world
        var material = new THREE.MeshPhongMaterial({
            color: 0xcccccc,
            specular: 0xffffff,
            shininess: 100
        });
        for (var i = 0; i < maxStars; i++) {
            var s = 3 * Math.random();
            var geometry = new THREE.SphereGeometry(s, 8, 2);
            var starsBkg = new THREE.Mesh(geometry, material);
            starsBkg.position.x = 1 * (2.0 * Math.random() - 1.0);
            starsBkg.position.y = 1 * (2.0 * Math.random() - 1.0);
            starsBkg.position.z = 1 * (2.0 * Math.random() - 1.0);
            starsBkg.rotation.x = Math.random() * Math.PI;
            starsBkg.rotation.y = Math.random() * Math.PI;
            starsBkg.rotation.z = Math.random() * Math.PI;
            starsBkg.updateMatrix();
            starGroup.add(starsBkg);
        }
        scene.add(starGroup);
        //********* INIT ***********
        function init() {

            charGroup.position.set(0, 0, 0);
            charGroup.rotation.set(0, 0, 0);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.body.appendChild(renderer.domElement);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.position.set(0, 0, 4);

            //********* LIGHTS ***********
            //********* RED LEFT LIGHT
            var light = new THREE.PointLight(0xFC8D7E, 1, 100);
            light.position.set(-1.1, 0, 1);
            light.intensity = 2.5;
            light.decay = 3;
            light.distance = 4;
            scene.add(light);
            //const helper1 = new THREE.PointLightHelper(light);
            //scene.add(helper1);
            //********* BLUE RIGHT LIGHT
            var light2 = new THREE.PointLight(0xA9EDFB, 1, 100);
            light2.position.set(1.4, 0.5, 0);
            light2.intensity = 2.5;
            light2.decay = 2;
            light2.distance = 3.5;
            scene.add(light2);
            //const helper2 = new THREE.PointLightHelper(light2);
            //scene.add(helper2);
            //********* WHITE BACK LIGHT
            var light3 = new THREE.PointLight(0xffffff, 1, 100);
            light3.position.set(-.1, 1, -1);
            light3.intensity = 1.5;
            light3.decay = 2;
            light3.distance = 3.5;
            scene.add(light3);
            //const helper3 = new THREE.PointLightHelper(light3);
            //scene.add(helper3);
            //********* YELLOW THRUSTER LIGHT
            var thrustLight = new THREE.PointLight(0xffcc00, .8, 2, 2);
            thrustLight.position.set(0, -.2, 0);
            scene.add(thrustLight);
            //********* WHITE SMOKE LIGHT
            var thrustLight = new THREE.PointLight(0xcccccc, .3, 3.5, 3);
            thrustLight.position.set(0, -2, 0);
            scene.add(thrustLight);
        }

        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.maxDistance = 10;
        controls.autoRotate = true;
        controls.autoRotateSpeed = .5;
        controls.enableDamping = true;
        controls.dampingFactor = 0.02;
        controls.maxPolarAngle = Math.PI * .97;
        controls.minPolarAngle = Math.PI * .03;
        controls.update();


        //***** SMOKE GENERATION *****

        var smokeMaterial = new THREE.MeshPhongMaterial({
            color: 0x9D7BB6,
            side: THREE.DoubleSide,
            transparent: true,
            opacity: .15,
            shininess: 50,
            specular: 0xffffff,
        });
        var smokeGroup = new THREE.Group();
        charGroup.add(smokeGroup);
        var maxSmoke = 350;
        var currentSmoke = 0;

        function oddOrEven(x) {
            //used to flip smoke generation between feet - left or right
            return (x & 1) ? ".05" : "-.05";
        }

        function createNewSmoke(i) {
            // var size = Math.random() * .09;
            var size = Math.random() * .03;
            var detail = (Math.random() * 10) + 10;
            var geometry = new THREE.SphereGeometry(size, detail, detail);
            var smoke = new THREE.Mesh(geometry, smokeMaterial);
            var xOffset = oddOrEven(i);
            smoke.receiveShadow = true;
            smoke.position.set(xOffset, (-0.4 - ((2.2 / maxSmoke) * i)), 0);
            smokeGroup.add(smoke);
        }

        function createSmoke() {
            for (var i = 0; i < maxSmoke; i++) {
                createNewSmoke(i);
            }
        }

        function animateSmoke() {
            for (var i = 0; i < maxSmoke; i++) {
                //make smoke drop with fake velocity calculated from it's Y position
                smokeGroup.children[i].position.y += (-2.1 - smokeGroup.children[i].position.y) / 50;
                // scale the smoke so it gets bigger over time
                smokeGroup.children[i].scale.x += 1 / 10;
                smokeGroup.children[i].scale.y += 1 / 80;
                smokeGroup.children[i].scale.z += 1 / 10;
                // reset the Y position and scale os moke to regenerate it at his feet
                if (smokeGroup.children[i].position.y < -1.5) {
                    smokeGroup.children[i].position.y = -0.65 + Math.random() * .25;
                    smokeGroup.children[i].scale.set(1, 1, 1);
                }
            }
        }

        function animateStars() {
            for (var i = 0; i < maxStars; i++) {
                starGroup.children[i].scale.x += (.001 - starGroup.children[i].scale.x) / 30;
                starGroup.children[i].scale.y += (.001 - starGroup.children[i].scale.y) / 30;
                starGroup.children[i].scale.z += (.001 - starGroup.children[i].scale.z) / 30;
            }
            starGroup.scale.x += (3 - starGroup.scale.x) / 20;
            starGroup.scale.y += (3 - starGroup.scale.y) / 20;
            starGroup.scale.z += (3 - starGroup.scale.z) / 20;
        }

        //***** MODEL MOVEMENT *****

        function onDocumentMouseMove(event) {
            var windowHalfX = window.innerWidth / 2;
            var windowHalfY = window.innerHeight / 2;
            mouseX = (event.clientX - windowHalfX) / 2;
            mouseY = (event.clientY - windowHalfY) / 2;
        }

        function onDocumentTouchMove(event) {
            if (event.touches.length === 1) {
                event.preventDefault();
                var windowHalfX = window.innerWidth / 2;
                var windowHalfY = window.innerHeight / 2;
                mouseX = (event.touches[0].pageX - windowHalfX) / 2;
                mouseY = (event.touches[0].pageY - windowHalfY) / 2;
            }
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function onResize(event) {
            const width = window.innerWidth;
            const height = window.innerHeight;
            windowHalf.set(width / 2, height / 2);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        }

        var animate = function() {
            charGroup.rotation.y -= (mouseX + camera.position.x) / 1000; //spin
            charGroup.rotation.x = (mouseX - camera.position.x) / 1000; //rotate
            controls.update();
            animateSmoke();
            animateStars();
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        };

        init();
        createSmoke();
        animate();

    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-78115231-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-78115231-1');

    </script>
</body>

</html>
